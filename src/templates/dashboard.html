{% extends "base.html" %}

{% block title %}ダッシュボード - 勤怠管理システム{% endblock %}

{% block content %}
<div class="card">
    <h2>ようこそ、{{ user_name }}さん</h2>
    <p style="margin: 20px 0;">
        <a href="{{ url_for('attendance_input') }}" class="btn">勤怠入力</a>
    </p>
</div>

<div class="card">
    <h3>最近の勤怠記録</h3>
    {% if records %}
    <table>
        <thead>
            <tr>
                <th>日付</th>
                <th>出勤区分</th>
                <th>出勤時間</th>
                <th>退勤時間</th>
                <th>休憩時間</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody>
            {% for record in records %}
            <tr>
                <td>{{ record.date }}</td>
                <td>{{ record.attendance_type }}</td>
                <td>{{ record.start_time or '-' }}</td>
                <td>{{ record.end_time or '-' }}</td>
                <td>{{ record.break_time or '-' }}</td>
                <td>
                    <a href="{{ url_for('attendance_view', date_str=record.date) }}" class="btn" style="padding: 5px 10px; font-size: 12px;">詳細</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p style="padding: 20px; color: #666;">まだ勤怠記録がありません。</p>
    {% endif %}
</div>
{% endblock %}

